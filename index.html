<!DOCTYPE html>
<html>
	<head>
		<title>Trende</title>
		<meta charset="utf-8" />
 
		<!-- Styles -->
		<link rel="stylesheet" href="kendo/styles/kendo.mobile.all.min.css" />
        
        <!-- App Kendo Scripts -->
		<script type="text/javascript" src="cordova.js"></script>
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
		<script type="text/javascript" src="kendo/js/jquery.min.js"></script>
		<script type="text/javascript" src="kendo/js/kendo.mobile.min.js"></script>
		<script type="text/javascript" src="scripts/appData.js"></script>
		<script type="text/javascript" src="viewModels/viewModels.js"></script>
		<script type="text/javascript" src="scripts/main.js"></script>

		<!-- include external api services-->
		<script src="https://sdk.amazonaws.com/js/aws-sdk-2.0.25.min.js"></script>

		<!-- include utils -->
		<script type="text/javascript" src="scripts/Util.addProduct.js"></script>
		<script type="text/javascript" src="scripts/Util.httpRequest.js"></script>
		<script type="text/javascript" src="scripts/Util.XMLToJSON.js"></script>

		<!-- include apis-->
		<script type="text/javascript" src="scripts/API.js"></script>
		<script type="text/javascript" src="scripts/API.AmazonProducts.js"></script>
		<script type="text/javascript" src="scripts/API.MovieList.js"></script>
		<script type="text/javascript" src="scripts/API.MusicList.js"></script>
		<script type="text/javascript" src="scripts/API.GoogleNews.js"></script>
		<script type="text/javascript" src="scripts/API.GoogleTrends.js"></script>

		<!-- Default Stylesheet -->
		<link rel="stylesheet" href="styles/main.css" />
	</head>
	<body>
		<!-- Page Layout -->
		<div data-role="layout" data-id="jitterz-default">
			<header data-role="header" data-id="jitterz-default-header">
				<div data-role="navbar">
					<span>Trende</span>
				</div>
			</header>
			<div data-role="footer">
				<div data-role="tabstrip" data-id="jitterz-tabstrip">
					<a href="#home" data-icon="home">Products</a>
					<a href="views/moviesView.html" data-icon="organize">Movies</a>
					<a href="views/musicView.html" data-icon="toprated">Music</a>
					<a href="views/newsView.html" data-icon="globe">News</a>
				</div>
			</div>
		</div>

		<!-- Home page -->
		<div id="home" data-role="view" data-title="Trende" data-model="announcementViewModel">
			<!-- <ul data-role="listview" id="announcements-listview" 
				data-style="inset" data-template="announcement-listview-template" data-bind="source: announcements">
			</ul> -->

			<ul class="km-widget km-listview km-list km-listinset" id="listview-productsView"></ul>
		</div>

		<!-- Home page template -->
		<script id="announcement-listview-template" type="text/x-kendo-template">
        	<div class="j-listview-item announcement">
            	<img src="#:url#" />
                <div class="j-listview-item-content">
                    <span>#:title#</span>
                    <span>#:description#</span>
                </div>
        	</div>
		</script>
        
		<script>
			var app = new kendo.mobile.Application(document.body, { transition: "slide", layout: "jitterz-default" });
		</script>

		<script>
			API.GoogleTrends.getTrendingWord(function(word) {
				// call joey's api
				API.GoogleNews.getProductList(word, function(products) {
					console.log(products);

					addProductToCategory('', products);
				});

				// call jake's api
				// API.AmazonProducts.getProductList(word, function(products) {
				// 	console.log(products);
				// });

				// call johnny's api
				API.MovieList.getProductList(word, function(products) {
					console.log(products);
				});

				// call johnny's music api
				API.MusicList.getProductList(word, function(products) {
					console.log(products);
				});
			});
		</script>
	</body>
</html>
